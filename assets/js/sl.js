var Zepto=function(){function M(t){return null==t?String(t):T[j.call(t)]||"object"}function L(t){return"function"==M(t)}function Z(t){return null!=t&&t==t.window}function D(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function k(t){return"object"==M(t)}function _(t){return k(t)&&!Z(t)&&Object.getPrototypeOf(t)==Object.prototype}function $(t){return"number"==typeof t.length}function F(t){return a.call(t,function(t){return null!=t})}function R(t){return t.length>0?n.fn.concat.apply([],t):t}function z(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function q(t){return t in c?c[t]:c[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function W(t,e){return"number"!=typeof e||l[z(t)]?e:e+"px"}function U(t){var e,n;return u[t]||(e=s.createElement(t),s.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),u[t]=n),u[t]}function H(t){return"children"in t?o.call(t.children):n.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function I(n,i,r){for(e in i)r&&(_(i[e])||A(i[e]))?(_(i[e])&&!_(n[e])&&(n[e]={}),A(i[e])&&!A(n[e])&&(n[e]=[]),I(n[e],i[e],r)):i[e]!==t&&(n[e]=i[e])}function X(t,e){return null==e?n(t):n(t).filter(e)}function V(t,e,n,i){return L(e)?e.call(t,n,i):e}function Y(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function B(e,n){var i=e.className,r=i&&i.baseVal!==t;return n===t?r?i.baseVal:i:void(r?i.baseVal=n:e.className=n)}function J(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?n.parseJSON(t):t:e):t}catch(i){return t}}function G(t,e){e(t);for(var n in t.childNodes)G(t.childNodes[n],e)}var t,e,n,i,S,P,r=[],o=r.slice,a=r.filter,s=window.document,u={},c={},l={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},f=/^\s*<(\w+|!)[^>]*>/,h=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/^(?:body|html)$/i,m=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],v=["after","prepend","before","append"],y=s.createElement("table"),w=s.createElement("tr"),b={tr:s.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:w,th:w,"*":s.createElement("div")},x=/complete|loaded|interactive/,E=/^[\w-]*$/,T={},j=T.toString,C={},N=s.createElement("div"),O={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A=Array.isArray||function(t){return t instanceof Array};return C.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=N).appendChild(t),i=~C.qsa(r,e).indexOf(t),o&&N.removeChild(t),i},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},P=function(t){return a.call(t,function(e,n){return t.indexOf(e)==n})},C.fragment=function(e,i,r){var a,u,c;return h.test(e)&&(a=n(s.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(p,"<$1></$2>")),i===t&&(i=f.test(e)&&RegExp.$1),i in b||(i="*"),c=b[i],c.innerHTML=""+e,a=n.each(o.call(c.childNodes),function(){c.removeChild(this)})),_(r)&&(u=n(a),n.each(r,function(t,e){g.indexOf(t)>-1?u[t](e):u.attr(t,e)})),a},C.Z=function(t,e){return t=t||[],t.__proto__=n.fn,t.selector=e||"",t},C.isZ=function(t){return t instanceof C.Z},C.init=function(e,i){var r;if(!e)return C.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&f.test(e))r=C.fragment(e,RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(s,e)}else{if(L(e))return n(s).ready(e);if(C.isZ(e))return e;if(A(e))r=F(e);else if(k(e))r=[e],e=null;else if(f.test(e))r=C.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(s,e)}}return C.Z(r,e)},n=function(t,e){return C.init(t,e)},n.extend=function(t){var e,n=o.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){I(t,n,e)}),t},C.qsa=function(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],a=i||r?e.slice(1):e,s=E.test(a);return D(t)&&s&&i?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:o.call(s&&!i?r?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=function(t,e){return t!==e&&t.contains(e)},n.type=M,n.isFunction=L,n.isWindow=Z,n.isArray=A,n.isPlainObject=_,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return r.indexOf.call(e,t,n)},n.camelCase=S,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.map=function(t,e){var n,r,o,i=[];if($(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&i.push(n);else for(o in t)n=e(t[o],o),null!=n&&i.push(n);return R(i)},n.each=function(t,e){var n,i;if($(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},n.grep=function(t,e){return a.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){T["[object "+e+"]"]=e.toLowerCase()}),n.fn={forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,indexOf:r.indexOf,concat:r.concat,map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(o.apply(this,arguments))},ready:function(t){return x.test(s.readyState)&&s.body?t(n):s.addEventListener("DOMContentLoaded",function(){t(n)},!1),this},get:function(e){return e===t?o.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return r.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return L(t)?this.not(this.not(t)):n(a.call(this,function(e){return C.matches(e,t)}))},add:function(t,e){return n(P(this.concat(n(t,e))))},is:function(t){return this.length>0&&C.matches(this[0],t)},not:function(e){var i=[];if(L(e)&&e.call!==t)this.each(function(t){e.call(this,t)||i.push(this)});else{var r="string"==typeof e?this.filter(e):$(e)&&L(e.item)?o.call(e):n(e);this.forEach(function(t){r.indexOf(t)<0&&i.push(t)})}return n(i)},has:function(t){return this.filter(function(){return k(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!k(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!k(t)?t:n(t)},find:function(t){var e,i=this;return e="object"==typeof t?n(t).filter(function(){var t=this;return r.some.call(i,function(e){return n.contains(e,t)})}):1==this.length?n(C.qsa(this[0],t)):this.map(function(){return C.qsa(this,t)})},closest:function(t,e){var i=this[0],r=!1;for("object"==typeof t&&(r=n(t));i&&!(r?r.indexOf(i)>=0:C.matches(i,t));)i=i!==e&&!D(i)&&i.parentNode;return n(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=n.map(i,function(t){return(t=t.parentNode)&&!D(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return X(e,t)},parent:function(t){return X(P(this.pluck("parentNode")),t)},children:function(t){return X(this.map(function(){return H(this)}),t)},contents:function(){return this.map(function(){return o.call(this.childNodes)})},siblings:function(t){return X(this.map(function(t,e){return a.call(H(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=U(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=L(t);if(this[0]&&!e)var i=n(t).get(0),r=i.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var e;(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=L(t);return this.each(function(i){var r=n(this),o=r.contents(),a=e?t.call(this,i):t;o.length?o.wrapAll(a):r.append(a)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var i=n(this);(e===t?"none"==i.css("display"):e)?i.show():i.hide()})},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var i=this.innerHTML;n(this).empty().append(V(this,t,e,i))})},text:function(e){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e===t?"":""+e})},attr:function(n,i){var r;return"string"==typeof n&&i===t?0==this.length||1!==this[0].nodeType?t:"value"==n&&"INPUT"==this[0].nodeName?this.val():!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:this.each(function(t){if(1===this.nodeType)if(k(n))for(e in n)Y(this,e,n[e]);else Y(this,n,V(this,i,t,this.getAttribute(n)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&Y(this,t)})},prop:function(e,n){return e=O[e]||e,n===t?this[0]&&this[0][e]:this.each(function(t){this[e]=V(this,n,t,this[e])})},data:function(e,n){var i=this.attr("data-"+e.replace(m,"-$1").toLowerCase(),n);return null!==i?J(i):t},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=V(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var i=n(this),r=V(this,t,e,i.offset()),o=i.offsetParent().offset(),a={top:r.top-o.top,left:r.left-o.left};"static"==i.css("position")&&(a.position="relative"),i.css(a)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,i){if(arguments.length<2){var r=this[0],o=getComputedStyle(r,"");if(!r)return;if("string"==typeof t)return r.style[S(t)]||o.getPropertyValue(t);if(A(t)){var a={};return n.each(A(t)?t:[t],function(t,e){a[e]=r.style[S(e)]||o.getPropertyValue(e)}),a}}var s="";if("string"==M(t))i||0===i?s=z(t)+":"+W(t,i):this.each(function(){this.style.removeProperty(z(t))});else for(e in t)t[e]||0===t[e]?s+=z(e)+":"+W(e,t[e])+";":this.each(function(){this.style.removeProperty(z(e))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?r.some.call(this,function(t){return this.test(B(t))},q(t)):!1},addClass:function(t){return t?this.each(function(e){i=[];var r=B(this),o=V(this,t,e,r);o.split(/\s+/g).forEach(function(t){n(this).hasClass(t)||i.push(t)},this),i.length&&B(this,r+(r?" ":"")+i.join(" "))}):this},removeClass:function(e){return this.each(function(n){return e===t?B(this,""):(i=B(this),V(this,e,n,i).split(/\s+/g).forEach(function(t){i=i.replace(q(t)," ")}),void B(this,i.trim()))})},toggleClass:function(e,i){return e?this.each(function(r){var o=n(this),a=V(this,e,r,B(this));a.split(/\s+/g).forEach(function(e){(i===t?!o.hasClass(e):i)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),r=d.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(n(t).css("margin-top"))||0,i.left-=parseFloat(n(t).css("margin-left"))||0,r.top+=parseFloat(n(e[0]).css("border-top-width"))||0,r.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||s.body;t&&!d.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(r){var o,a=this[0];return r===t?Z(a)?a["inner"+i]:D(a)?a.documentElement["scroll"+i]:(o=this.offset())&&o[e]:this.each(function(t){a=n(this),a.css(e,V(this,r,t,a[e]()))})}}),v.forEach(function(t,e){var i=e%2;n.fn[t]=function(){var t,o,r=n.map(arguments,function(e){return t=M(e),"object"==t||"array"==t||null==e?e:C.fragment(e)}),a=this.length>1;return r.length<1?this:this.each(function(t,s){o=i?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null,r.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return n(t).remove();G(o.insertBefore(t,s),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[i?t+"To":"insert"+(e?"Before":"After")]=function(e){return n(e)[t](this),this}}),C.Z.prototype=n.fn,C.uniq=P,C.deserializeValue=J,n.zepto=C,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function f(t){return t._zid||(t._zid=e++)}function h(t,e,n,i){if(e=p(e),e.ns)var r=d(e.ns);return(a[f(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!r.test(t.ns)||n&&f(t.fn)!==f(n)||i&&t.sel!=i)})}function p(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function d(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function m(t,e){return t.del&&!u&&t.e in c||!!e}function g(t){return l[t]||u&&c[t]||t}function v(e,i,r,o,s,u,c){var h=f(e),d=a[h]||(a[h]=[]);i.split(/\s/).forEach(function(i){if("ready"==i)return t(document).ready(r);var a=p(i);a.fn=r,a.sel=s,a.e in l&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=u;var f=u||r;a.proxy=function(t){if(t=T(t),!t.isImmediatePropagationStopped()){t.data=o;var i=f.apply(e,t._args==n?[t]:[t].concat(t._args));return i===!1&&(t.preventDefault(),t.stopPropagation()),i}},a.i=d.length,d.push(a),"addEventListener"in e&&e.addEventListener(g(a.e),a.proxy,m(a,c))})}function y(t,e,n,i,r){var o=f(t);(e||"").split(/\s/).forEach(function(e){h(t,e,n,i).forEach(function(e){delete a[o][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,m(e,r))})})}function T(e,i){return(i||!e.isDefaultPrevented)&&(i||(i=e),t.each(E,function(t,n){var r=i[t];e[t]=function(){return this[n]=w,r&&r.apply(i,arguments)},e[n]=b}),(i.defaultPrevented!==n?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function j(t){var e,i={originalEvent:t};for(e in t)x.test(e)||t[e]===n||(i[e]=t[e]);return T(i,t)}var n,e=1,i=Array.prototype.slice,r=t.isFunction,o=function(t){return"string"==typeof t},a={},s={},u="onfocusin"in window,c={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",t.event={add:v,remove:y},t.proxy=function(e,n){if(r(e)){var i=function(){return e.apply(n,arguments)};return i._zid=f(e),i}if(o(n))return t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var w=function(){return!0},b=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,a,s,u,c){var l,f,h=this;return e&&!o(e)?(t.each(e,function(t,e){h.on(t,a,s,e,c)}),h):(o(a)||r(u)||u===!1||(u=s,s=a,a=n),(r(s)||s===!1)&&(u=s,s=n),u===!1&&(u=b),h.each(function(n,r){c&&(l=function(t){return y(r,t.type,u),u.apply(this,arguments)}),a&&(f=function(e){var n,o=t(e.target).closest(a,r).get(0);return o&&o!==r?(n=t.extend(j(e),{currentTarget:o,liveFired:r}),(l||u).apply(o,[n].concat(i.call(arguments,1)))):void 0}),v(r,e,u,s,a,f||l)}))},t.fn.off=function(e,i,a){var s=this;return e&&!o(e)?(t.each(e,function(t,e){s.off(t,i,e)}),s):(o(i)||r(a)||a===!1||(a=i,i=n),a===!1&&(a=b),s.each(function(){y(this,e,a,i)}))},t.fn.trigger=function(e,n){return e=o(e)||t.isPlainObject(e)?t.Event(e):T(e),e._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,r;return this.each(function(a,s){i=j(o(e)?t.Event(e):e),i._args=n,i.target=s,t.each(h(s,e.type||e),function(t,e){return r=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),r},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){o(t)||(e=t,t=e.type);var n=document.createEvent(s[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),T(n)}}(Zepto),function(t){function f(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function h(t,e,i,r){return t.global?f(e||n,i,r):void 0}function p(e){e.global&&0===t.active++&&h(e,null,"ajaxStart")}function d(e){e.global&&!--t.active&&h(e,null,"ajaxStop")}function m(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||h(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void h(e,n,"ajaxSend",[t,e])}function g(t,e,n,i){var r=n.context,o="success";n.success.call(r,t,o,e),i&&i.resolveWith(r,[t,o,e]),h(n,r,"ajaxSuccess",[e,n,t]),y(o,e,n)}function v(t,e,n,i,r){var o=i.context;i.error.call(o,n,e,t),r&&r.rejectWith(o,[n,e,t]),h(i,o,"ajaxError",[n,i,t||e]),y(e,n,i)}function y(t,e,n){var i=n.context;n.complete.call(i,e,t),h(n,i,"ajaxComplete",[e,n]),d(n)}function w(){}function b(t){return t&&(t=t.split(";",2)[0]),t&&(t==c?"html":t==u?"json":a.test(t)?"script":s.test(t)&&"xml")||"text"}function x(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function E(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=x(e.url,e.data),e.data=void 0)}function T(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function C(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),r&&(n=i?r:r+"["+(s||"object"==o||"array"==o?n:"")+"]"),!r&&a?e.add(u.name,u.value):"array"==o||!i&&"object"==o?C(e,u,i,n):e.add(n,u)})}var i,r,e=0,n=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,u="application/json",c="text/html",l=/^\s*$/;t.active=0,t.ajaxJSONP=function(i,r){if(!("type"in i))return t.ajax(i);var c,h,o=i.jsonpCallback,a=(t.isFunction(o)?o():o)||"jsonp"+ ++e,s=n.createElement("script"),u=window[a],l=function(e){t(s).triggerHandler("error",e||"abort")},f={abort:l};return r&&r.promise(f),t(s).on("load error",function(e,n){clearTimeout(h),t(s).off().remove(),"error"!=e.type&&c?g(c[0],f,i,r):v(null,n||"error",f,i,r),window[a]=u,c&&t.isFunction(u)&&u(c[0]),u=c=void 0}),m(f,i)===!1?(l("abort"),f):(window[a]=function(){c=arguments},s.src=i.url.replace(/\?(.+)=\?/,"?$1="+a),n.head.appendChild(s),i.timeout>0&&(h=setTimeout(function(){l("timeout")},i.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:w,success:w,error:w,complete:w,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:u,xml:"application/xml, text/xml",html:c,text:"text/plain"},crossDomain:!0,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),o=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===n[i]&&(n[i]=t.ajaxSettings[i]);p(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),E(n),n.cache===!1&&(n.url=x(n.url,"_="+Date.now()));var a=n.dataType,s=/\?.+=\?/.test(n.url);if("jsonp"==a||s)return s||(n.url=x(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n,o);var T,u=n.accepts[a],c={},f=function(t,e){c[t.toLowerCase()]=[t,e]},h=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,d=n.xhr(),y=d.setRequestHeader;if(o&&o.promise(d),n.crossDomain||f("X-Requested-With","XMLHttpRequest"),f("Accept",u||"*/*"),(u=n.mimeType||u)&&(u.indexOf(",")>-1&&(u=u.split(",",2)[0]),d.overrideMimeType&&d.overrideMimeType(u)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&f("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(r in n.headers)f(r,n.headers[r]);if(d.setRequestHeader=f,d.onreadystatechange=function(){if(4==d.readyState){d.onreadystatechange=w,clearTimeout(T);var e,i=!1;if(d.status>=200&&d.status<300||304==d.status||0==d.status&&"file:"==h){a=a||b(n.mimeType||d.getResponseHeader("content-type")),e=d.responseText;try{"script"==a?(1,eval)(e):"xml"==a?e=d.responseXML:"json"==a&&(e=l.test(e)?null:t.parseJSON(e))}catch(r){i=r}i?v(i,"parsererror",d,n,o):g(e,d,n,o)}else v(d.statusText||null,d.status?"error":"abort",d,n,o)}},m(d,n)===!1)return d.abort(),v(null,"abort",d,n,o),d;if(n.xhrFields)for(r in n.xhrFields)d[r]=n.xhrFields[r];var j="async"in n?n.async:!0;d.open(n.type,n.url,j,n.username,n.password);for(r in c)y.apply(d,c[r]);return n.timeout>0&&(T=setTimeout(function(){d.onreadystatechange=w,d.abort(),v(null,"timeout",d,n,o)},n.timeout)),d.send(n.data?n.data:null),d},t.get=function(){return t.ajax(T.apply(null,arguments))},t.post=function(){var e=T.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=T.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var s,r=this,a=e.split(/\s/),u=T(e,n,i),c=u.success;return a.length>1&&(u.url=a[0],s=a[1]),u.success=function(e){r.html(s?t("<div>").html(e.replace(o,"")).find(s):e),c&&c.apply(r,arguments)},t.ajax(u),this};var j=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(j(t)+"="+j(e))},C(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var n,e=[];return t([].slice.call(this.get(0).elements)).each(function(){n=t(this);var i=n.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&e.push({name:n.attr("name"),value:n.val()})}),e},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),function(t){function u(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function c(){if(o=null,e.last){var n=t.Event("longTap");n.cancelTouch=f,e.el.trigger(n)}}function l(){o&&clearTimeout(o),o=null}function f(){n&&clearTimeout(n),i&&clearTimeout(i),r&&clearTimeout(r),o&&clearTimeout(o),n=i=r=o=null,e={}}function h(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function p(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}function d(t,e){return t.type=="mouse"+e}var n,i,r,o,s,e={},a=750;t(document).ready(function(){var i,m,y,w,g=0,v=0,b="ontouchstart"in document?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"];"MSGesture"in window&&(s=new MSGesture,s.target=document.body),t(document).bind("MSGestureEnd",function(t){var n=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;n&&(e.el.trigger("swipe"),e.el.trigger("swipe"+n))}).on(b[0]+" MSPointerDown pointerdown",function(r){(!(w=p(r,"down"))||h(r))&&(y=w||d(r,"down")?r:r.touches[0],r.touches&&1===r.touches.length&&e.x2&&(e.x2=void 0,e.y2=void 0),i=Date.now(),m=i-(e.last||i),e.el=t("tagName"in y.target?y.target:y.target.parentNode),n&&clearTimeout(n),e.x1=y.pageX,e.y1=y.pageY,m>0&&250>=m&&(e.isDoubleTap=!0),e.last=i,o=setTimeout(c,a),s&&w&&s.addPointer(r.pointerId))}).on(b[1]+" MSPointerMove pointermove",function(t){(w=p(t,"move"))&&!h(t)||!("mousemove"!=t.type||"last"in e)||(y=w||"mousemove"==t.type?t:t.touches[0],l(),e.x2=y.pageX,e.y2=y.pageY,g+=Math.abs(e.x1-e.x2),v+=Math.abs(e.y1-e.y2))}).on(b[2]+" MSPointerUp pointerup",function(i){if(!(w=p(i,"up"))||h(i)){if(l(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30)r=setTimeout(function(){e.el.trigger("swipe"),e.el.trigger("swipe"+u(e.x1,e.x2,e.y1,e.y2)),e={}},0);else if("last"in e)if(30>g&&30>v){var o=t.Event("tap");o.cancelTouch=f,e.el.trigger(o),e.isDoubleTap?(e.el&&e.el.trigger("doubleTap"),e={}):n=setTimeout(function(){n=null,e.el&&e.el.trigger("singleTap"),e={}},250)}else e={};g=v=0}}).on(b[3]+" MSPointerCancel pointercancel",f),t(window).on("scroll",f)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),function(t){t.Callbacks=function(e){e=t.extend({},e);var n,i,r,o,a,s,u=[],c=!e.once&&[],l=function(t){for(n=e.memory&&t,i=!0,s=o||0,o=0,a=u.length,r=!0;u&&a>s;++s)if(u[s].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}r=!1,u&&(c?c.length&&l(c.shift()):n?u.length=0:f.disable())},f={add:function(){if(u){var i=u.length,s=function(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!=typeof n&&s(n)})};s(arguments),r?a=u.length:n&&(o=i,l(n))}return this},remove:function(){return u&&t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,u,i))>-1;)u.splice(i,1),r&&(a>=i&&--a,s>=i&&--s)}),this},has:function(e){return!(!u||!(e?t.inArray(e,u)>-1:u.length))},empty:function(){return a=u.length=0,this},disable:function(){return u=c=n=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,n||f.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||i&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):l(e)),this},fire:function(){return f.fireWith(this,arguments)},fired:function(){return!!i}};return f}}(Zepto),function(t,e){function b(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function x(t){return i?i+t:t.toLowerCase()}var i,l,f,h,p,d,m,g,v,y,n="",a={Webkit:"webkit",Moz:"",O:"o"},s=window.document,u=s.createElement("div"),c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};t.each(a,function(t,r){return u.style[t+"TransitionProperty"]!==e?(n="-"+t.toLowerCase()+"-",i=r,!1):void 0}),l=n+"transform",w[f=n+"transition-property"]=w[h=n+"transition-duration"]=w[d=n+"transition-delay"]=w[p=n+"transition-timing-function"]=w[m=n+"animation-name"]=w[g=n+"animation-duration"]=w[y=n+"animation-delay"]=w[v=n+"animation-timing-function"]="",t.fx={off:i===e&&u.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:x("TransitionEnd"),animationEnd:x("AnimationEnd")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(n,i,r,o,a){var s,x,j,u={},E="",T=this,C=t.fx.transitionEnd,S=!1;if(i===e&&(i=t.fx.speeds._default/1e3),a===e&&(a=0),t.fx.off&&(i=0),"string"==typeof n)u[m]=n,u[g]=i+"s",u[y]=a+"s",u[v]=r||"linear",C=t.fx.animationEnd;else{x=[];for(s in n)c.test(s)?E+=s+"("+n[s]+") ":(u[s]=n[s],x.push(b(s)));E&&(u[l]=E,x.push(l)),i>0&&"object"==typeof n&&(u[f]=x.join(", "),u[h]=i+"s",u[d]=a+"s",u[p]=r||"linear")}return j=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(C,j)}else t(this).unbind(C,j);S=!0,t(this).css(w),o&&o.call(this)},i>0&&(this.bind(C,j),setTimeout(function(){S||j.call(T)},1e3*i+25)),this.size()&&this.get(0).clientLeft,this.css(u),0>=i&&setTimeout(function(){T.each(function(){j.call(this)})},0),this},u=null}(Zepto),function(t){function n(e){var i=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n(function(n){t.each(i,function(i,r){var s=t.isFunction(e[i])&&e[i];a[r[1]](function(){var e=s&&s.apply(this,arguments);if(e&&t.isFunction(e.promise))e.promise().done(n.resolve).fail(n.reject).progress(n.notify);else{var i=this===o?n.promise():this,a=s?[e]:arguments;n[r[0]+"With"](i,a)}})}),e=null}).promise()},promise:function(e){return null!=e?t.extend(e,o):o}},a={};return t.each(i,function(t,e){var n=e[2],s=e[3];o[e[1]]=n.add,s&&n.add(function(){r=s},i[1^t][2].disable,i[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?o:this,arguments),this},a[e[0]+"With"]=n.fireWith}),o.promise(a),e&&e.call(a,a),a}var e=Array.prototype.slice;t.when=function(i){var c,l,f,r=e.call(arguments),o=r.length,a=0,s=1!==o||i&&t.isFunction(i.promise)?o:0,u=1===s?i:n(),h=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?e.call(arguments):r,i===c?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(o>1)for(c=new Array(o),l=new Array(o),f=new Array(o);o>a;++a)r[a]&&t.isFunction(r[a].promise)?r[a].promise().done(h(a,f,r)).fail(u.reject).progress(h(a,l,c)):--s;return s||u.resolveWith(f,r),u.promise()},t.Deferred=n}(Zepto),define&&define("zepto",[],function(){return Zepto});
define("util",function(){var r={merge:function(t,e){var n=t.length,r=0;if("number"==typeof e.length)for(var i=e.length;i>r;r++)t[n++]=e[r];else for(;void 0!==e[r];)t[n++]=e[r++];return t.length=n,t},s2i:function(t){return parseInt(t.replace(/^0+/,"")||0)},pad:function(t,e){var n="0000000000000000"+t;return n.substr(n.length-(e||2))},C:function(t,e){for(var n=1,r=1,i=t;i>t-e;i--)n*=i;for(var i=1;e>=i;i++)r*=i;return n/r},A:function(t,e){for(var n=1,r=t;r>t-e;r--)n*=r;return n},formatDate:function(t,e){"string"==typeof t&&/^\/Date\(\d+\)\/$/.test(t)&&(t=new Function("return new "+t.replace(/\//g,""))());var n=t.getFullYear()+"",r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()+"0000",c=this.pad;return(e||"yyyy-MM-dd HH:mm:ss").replace(/\y{4}/,n).replace(/y{2}/,n.substr(2,2)).replace(/M{2}/,c(r)).replace(/M/,r).replace(/d{2,}/,c(i)).replace(/d/,t).replace(/H{2,}/i,c(o)).replace(/H/i,o).replace(/m{2,}/,c(a)).replace(/m/,a).replace(/s{2,}/,c(s)).replace(/s/,s).replace(/f+/,function(t){return u.substr(0,t.length)})},makeArray:function(t,e){var n=e||[];if(null!=t){var r=$.type(t);null==t.length||"string"===r||"function"===r||"regexp"===r||$.isWindow(t)?push.call(n,t):core.merge(n,t)}return n},addStyle:function(t){var e=document,n=e.createElement("style");n.type="text/css";try{n.appendChild(e.createTextNode(t))}catch(r){n.styleSheet.cssText=t}var i=e.getElementsByTagName("head")[0];return i.appendChild(n),n},stringify:function(t){function r(t){var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return e.lastIndex=0,e.test(t)?'"'+t.replace(e,function(t){var e=n[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}var e=[];if("string"==typeof t)return r(t);if("undefined"==typeof t)return"undefined";if("function"==typeof t)return"";if("object"==typeof t){if(null===t)return"null";if("[object Array]"!=Object.prototype.toString.call(t)){for(var n in t)e.push(arguments.callee(n)+":"+arguments.callee(t[n]));e="{"+e.join()+"}"}else{for(var n=0;n<t.length;n++)e.push(arguments.callee(t[n]));e="["+e.join()+"]"}return e}return t.toString()},parse:function(t){return new Function("return "+t)()},cookie:function(t,e,n,r){if("undefined"==typeof e){var i=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=i?unescape(i[2]):null}if(null===typeof e){if(e=this.cookie(name),null==e)return;n=-1}if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),n=";expires="+o.toGMTString()}document.cookie=t+"="+escape(e)+(n||"")+";path="+(r||"/")}};return r});
define("app",["util"],function(t){var r=t("util"),i=/iPhone/.test(navigator.userAgent),o=/Android/.test(navigator.userAgent),a=Array.prototype.slice,s=function(){};window.callbackfunctions={},window.complete=function(){i&&0!=u.length&&(u.shift(),0!=u.length&&(location.href=u.shift()))};var u=[],c=0,l=r.stringify,f=function(t,e,n){var a,r={method:t};if("undefined"!=typeof e){var f=n;if("function"==typeof e&&(n=e,e=f),"undefined"!=typeof e&&(r.params=e),"undefined"!=typeof n){var p="mycallback"+ ++c,h=n;r.callback=p,callbackfunctions[p]=function(){h.apply(null,arguments),delete callbackfunctions[p]}}}if("post"==r.method){if(a={},!r.params.files)return a.xhr=$.ajax({url:r.params.url,data:r.params.data,type:"POST",dataType:"json",success:function(t){console.log(t),window.callbackfunctions[r.callback](t)},error:function(){window.callbackfunctions[r.callback]({success:!1,msg:"网络错误"})}}),a.abort=function(){a.xhr.abort(),window.callbackfunctions[r.callback]&&(window.callbackfunctions[r.callback]=s)},a;a.abort=function(){window.callbackfunctions[r.callback]&&(window.callbackfunctions[r.callback]=s)}}{if("Win32"!=navigator.platform&&"Win64"!=navigator.platform){if(i){var d="abschinajuicejs:a?"+encodeURIComponent(l(r));u.push(d),1==u.length&&(location.href=d)}else o&&prompt(l(r));return a}switch(r.method){case"onload":window.callbackfunctions[r.callback]();break;case"selectimage":return void window.callbackfunctions[r.callback]({path:"asdfsf",src:"asdfsf"})}}};return{isAndroid:o,versionName:o?"1.0":"1.0",exec:f,load:function(t){f("onload",function(){t&&t()})},tip:function(t){f("tip",t+"")},selectImage:function(t){f("selectimage",t)},selectColor:function(t){f("colorpicker",t)},share:function(){f("share")},isDevelopment:"Win32"==navigator.platform||"Win64"==navigator.platform,url:function(t){return/^http\:\/\//.test(t)?t:"Win32"==navigator.platform||"Win64"==navigator.platform?"/assets/Index.cshtml?path="+encodeURIComponent(t):"http://ms1.962666.com"+t},post:function(){var u,t=a.call(arguments),e=0,n=t[e++],i="string"!=typeof n?t[e++]:n,o=e>=t.length?null:t[e++],s=null;"function"==typeof o?(u=o,o=null):(s=e>=t.length?null:t[e++],"function"==typeof s?(u=s,s=null):u=t[e]);var c={url:this.url(i)};return o&&(c.data=o),s&&(c.files=s),f("post",c,function(t){if(n===!0)if(t)localStorage[i+"_"+(c.data&&c.data.page?c.data.page:1)]=r.stringify(t);else{var e=localStorage[i+"_"+(c.data&&c.data.page?c.data.page:1)];t=e?r.parse(e):null}u(t)})},exit:function(){f("exit")},update:function(t,e,n){f("updateApp",{downloadUrl:t,versionName:e},n)}}});
define("tmpl",["$"],function(t,e,n){function a(t){var e=function(t,e,n,r,a,s,u){if(!n)return"');__.push('";var c,f,p,l=o[n];return l?(c=l._default||[],s&&!i.last_word.test(a)&&(a+=s,s=""),a?(a=unescape(a),u=u?","+unescape(u)+")":s?")":"",f=s?a.indexOf(".")>-1?a+unescape(s):"("+a+").call($item"+u:a,p=s?f:"(typeof("+a+")==='function'?("+a+").call($item):("+a+"))"):p=f=c.$1||"null",r=unescape(r),"');"+l[e?"close":"open"].split("$notnull_1").join(a?"typeof("+a+")!=='undefined' && ("+a+")!=null":"true").split("$1a").join(p).split("$1").join(f).split("$2").join(r||c.$2||"")+"__.push('"):"');__.push('"},n=function(){return o[arguments[2]]?e.apply(this,arguments):"');__.push('{{"+arguments[2]+"}}');__.push('"},a="var $=$,call,__=[],$data=$item.data; with($data){__.push('",s=r.trim(t);return s=s.replace(i.sq_escape,"\\$1"),s=s.replace(i.nl_strip," "),s=s.replace(i.shortcut_replace,"{%= $1%}"),s=s.replace(i.lang_parse,e),s=s.replace(i.old_lang_parse,n),a+=s,a+="');}return __;",new Function("$","$item",a)}var r=t("$"),i={sq_escape:/([\\'])/g,sq_unescape:/\\'/g,dq_unescape:/\\\\/g,nl_strip:/[\r\t\n]/g,shortcut_replace:/\$\{([^\}]*)\}/g,lang_parse:/\{\%(\/?)(\w+|.)(?:\(((?:[^\%]|\%(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\%]|\%(?!\}))*?)\))?\s*\%\}/g,old_lang_parse:/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,template_anotate:/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,text_only_template:/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,html_expr:/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! |\{\%! /,last_word:/\w$/},o={each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{open:"}else{"},elif:{open:"}else if(($notnull_1) && $1a){"},elseif:{open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"break":{open:"return false;"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}};r.extend(r,{encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});var s=function(t,e){var n=a(t);return n(r,{data:e,nest:function(t,e){return s(t,e)}})};r.fn.tmpl=function(t){return r(s(this[0].innerHTML,t).join(""))},r.tmpl=n.exports=function(t,e){return s(t,e).join("")}});
define("extend/highlight",function(t){function s(){var t=a.attr("hl-cls");clearTimeout(o),a.removeClass(t).removeAttr("hl-cls"),a=null,i.off("touchend touchmove touchcancel",s)}var a,o,r=t("$"),i=r(document);r.fn.highlight=function(t,e){return this.each(function(){var n=r(this);n.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),t&&n.on("touchstart.hl",function(u){var l;l=e?(l=r(u.target).closest(e,this))&&l.length&&l:n,l&&l.length&&(a=l,a.attr("hl-cls",t),o=setTimeout(function(){a&&a.addClass(t)},100),i.on("touchend touchmove touchcancel",s))})})}});
define("extend/matchMedia",["$"],function(t){var r=t("$");r.matchMedia=function(){var t=0,e="sl-media-detect",n=r.fx.transitionEnd,i=r.fx.cssPrefix,a=r("<style></style>").append("."+e+"{"+i+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(i){var s,u,o=e+t++,l=[];return a.append("@media "+i+" { #"+o+" { width: 1px; } }\n"),s=r('<div class="'+e+'" id="'+o+'"></div>').appendTo("body").on(n,function(){u.matches=1===s.width(),r.each(l,function(t,e){r.isFunction(e)&&e.call(u,u)})}),u={matches:1===s.width(),media:i,addListener:function(t){return l.push(t),this},removeListener:function(t){var e=l.indexOf(t);return~e&&l.splice(e,1),this}}}}()});
define("extend/ortchange",["$","extend/matchMedia"],function(t){var r=t("$");t("extend/matchMedia"),r(function(){r.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},r.matchMedia(r.mediaQuery.ortchange).addListener(function(){r(window).trigger("ortchange")})})});
define("extend/parseTpl",function(t){var r=t("$");r.parseTpl=function(t,e){var n="var __p=[];with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',r=new Function("obj",n);return e?r(e):r}});
define("extend/ortchange",["$","extend/matchMedia"],function(t){var r=t("$");t("extend/matchMedia"),r(function(){r.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},r.matchMedia(r.mediaQuery.ortchange).addListener(function(){r(window).trigger("ortchange")})})});
define("extend/throttle",["$"],function(t){var r=t("$");r.extend(r,{throttle:function(t,e,n){function o(){function l(){i=Date.now(),e.apply(r,s)}function u(){a=void 0}var r=this,o=Date.now()-i,s=arguments;n&&!a&&l(),a&&clearTimeout(a),void 0===n&&o>t?l():a=setTimeout(n?u:l,void 0===n?t-o:t)}var a,i=0;return"function"!=typeof e&&(n=e,e=t,t=250),o._zid=e._zid=e._zid||r.proxy(e)._zid,o},debounce:function(t,e,n){return void 0===e?r.throttle(250,t,!1):r.throttle(t,e,void 0===n?!1:n!==!1)}})});
define("extend/scrollStop",["$","extend/throttle"],function(t,e,n){function a(){r(i).on("scroll",r.debounce(80,function(){r(i).trigger("scrollStop")},!1))}function o(){r(i).off("scroll"),a()}var r=t("$"),i=window;t("extend/throttle"),a(),r(i).on("pageshow",function(t){t.persisted&&r(i).off("touchstart",o).one("touchstart",o)}),n.exports=r});
define("ui/event",function(t,e){function l(t,e,n){(t||"").split(a).forEach(function(t){n(t,e)})}function u(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function c(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function f(t,e,n,r){var i,a;return a=c(e),a.ns&&(i=u(a.ns)),t.filter(function(t){return!(!t||a.e&&t.e!==a.e||a.ns&&!i.test(t.ns)||n&&t.cb!==n&&t.cb._cb!==n||r&&t.ctx!==r)})}function d(t,e){return this instanceof d?(e&&r.extend(this,e),this.type=t,this):new d(t,e)}var r=t("zepto"),i=[].slice,a=/\s+/,o=function(){return!1},s=function(){return!0};d.prototype={isDefaultPrevented:o,isPropagationStopped:o,preventDefault:function(){this.isDefaultPrevented=s},stopPropagation:function(){this.isPropagationStopped=s}};var p={on:function(t,e,n){var i,r=this;return e?(i=this._events||(this._events=[]),l(t,e,function(t,e){var a=c(t);a.cb=e,a.ctx=n,a.ctx2=n||r,a.id=i.length,i.push(a)}),this):this},one:function(t,e,n){var r=this;return e?(l(t,e,function(t,e){var i=function(){return r.off(t,i),e.apply(n||r,arguments)};i._cb=e,r.on(t,i,n)}),this):this},off:function(t,e,n){var r=this._events;return r?t||e||n?(l(t,e,function(t,e){f(r,t,e,n).forEach(function(t){delete r[t.id]})}),this):(this._events=[],this):this},trigger:function(t){var n,r,a,o,s,e=-1;if(!this._events||!t)return this;if("string"==typeof t&&(t=new d(t)),n=i.call(arguments,1),t.args=n,n.unshift(t),r=f(this._events,t.type))for(o=r.length;++e<o;)if((a=t.isPropagationStopped())||!1===(s=r[e]).cb.apply(s.ctx2,n)){a||(t.stopPropagation(),t.preventDefault());break}return this}};e=p});
define("ui/style",["zepto","util","extend/matchMedia","extend/ortchange"],function(t,e,n){var i=t("zepto"),r=t("util");t("extend/matchMedia"),t("extend/ortchange"),i(function(){i.mediaQuery={heightchange:"screen and (height: "+window.innerHeight+"px)"};var t=null,e=function(){null!=t&&(t.parentNode.removeChild(t),t=null),t=r.addStyle(".winheight{height:"+window.innerHeight+"px}.viewport,.minheight,.view { min-height:"+window.innerHeight+"px; }.anim-in.stop,.screen{overflow:hidden;width:"+window.innerWidth+"px;height:"+window.innerHeight+"px;}.minheight-30 { min-height:"+(window.innerHeight-30)+"px }.minheight-20 { min-height:"+(window.innerHeight-20)+"px }.minheight-5 { min-height:"+(window.innerHeight-5)+"px }.anim-bottom70-in,.anim-bottom70-in.finish {overflow:hidden;-webkit-transform: translate(0,"+(window.innerHeight-70)+"px) translateZ(0);}.minheight-100{ min-height:"+(window.innerHeight-100)+"px}.minheight-70{ min-height:"+(window.innerHeight-70)+"px}")};i.matchMedia(i.mediaQuery.heightchange).addListener(function(){e(),i(window).trigger("heightchange")}),e()});var o={},a=document.createElement("div"),s=i.fx.cssPrefix.replace(/-/g,"")+"Perspective"in a.style;a=null,n.exports={has3d:s,anim:{addBottomStyle:function(t){if(o["bottom"+t]!==!0){o["bottom"+t]=!0,r.addStyle(".viewport .anim-bottom"+t+"-in { background-color:transparent; z-index: 2; -webkit-transition-duration: 0; -webkit-transform: translate(0,100%) translateZ(0); }.anim-bottom"+t+"-in.timer, .anim-in-timer { -webkit-transition: -webkit-transform 300ms ease 0ms; }.anim-bottom"+t+"-in.run { -webkit-transform: translate(0,0) translateZ(0); }.anim-bottom"+t+"-in.finish { -webkit-transform: translate(0,"+t+"px) translateZ(0); }.anim-bottom"+t+"-in.active { -webkit-transform: none; }.anim-bottom"+t+"-out {overflow:hidden;z-index: 0; -webkit-transition-duration: 0; -webkit-transform: translate(0,0) translateZ(0); }.anim-bottom"+t+"-out.run { -webkit-transform: translate(0,"+t+"px) translateZ(0); }.anim-bottom"+t+"-out.timer { -webkit-transition: -webkit-transform 300ms ease 0ms; }.anim-bottom"+t+"-out.stop { height: 0px; overflow: hidden; }.anim-bottom"+t+"-out.under { height: 0px; overflow: hidden; }");var e=null,n=function(){null!=e&&(e.parentNode.removeChild(e),e=null),e=r.addStyle(".anim-bottom"+t+"-in{overflow:hidden;-webkit-transform: translate(0,"+(window.innerHeight-t)+"px) translateZ(0);}.anim-bottom"+t+"-in .fixtop,.anim-bottom"+t+"-out .fixtop{margin-top:"+(window.innerHeight-t)+"px;}.anim-bottom"+t+"-in .fixHeight,.anim-bottom"+t+"-out .fixHeight{overflow:hidden;height:"+t+"px}")};i(window).on("heightchange",function(){n()}),n()}}}}});
define("ui/sl",["zepto","util","app","ui/style","tmpl"],function(t,e,n){function w(t,e){return function(){var n=t._static,r=d.apply(arguments);if(n||(n=t._static=new t),!r.length)return n;var o,a=r.shift()+"";return i.each(n,function(t,e){return t==a?(o=e,!1):void 0}),i.isFunction(o)?o.apply(n,r):e&&e.call(n,a),this}}function x(t,e){var n=t.substring(0,1).toLowerCase()+t.substring(1),r=i.fn[n];i.fn[n]=function(n){var o,s,r=d.call(arguments,1),a="string"==typeof n&&n;return i.each(this,function(l,u){if(s=f(u,t)||f(u,t,new e(u,i.isPlainObject(n)?n:void 0)),"this"===a)return o=s,!1;if(a){if(!i.isFunction(s[a]))throw new Error("组件没有此方法："+a);if(o=s[a].apply(s,r),void 0!==o&&o!==s)return!1;o=void 0}}),void 0!==o?o:this},i.fn[n].noConflict=function(){return i.fn[n]=r,this}}var i=t("zepto"),r=t("util"),o=(t("app"),t("tmpl")),s=t("ui/style"),l=function(){},u=function(t,e,n){"undefined"==typeof n&&(n=e,e=null);var a,r=-1;return i.each(t,function(t,i){return a=null!==e?i[e]:i,n===a?(r=t,!1):void 0}),r},c=function(t,e,n){"undefined"==typeof n&&(n=e,e=null);for(var r,i=-1,a=t.length-1;a>=0;a--){var o=t[a];if(r=null!==e?o[e]:o,n===r){i=a;break}}return i},d=Array.prototype.slice,f=function(){var t={},e=0,n="_gid";return function(i,r,a){var o=i[n]||(i[n]=++e),s=t[o]||(t[o]={});return void 0!==a&&(s[r]=a),null===a&&delete s[r],s[r]}}();window.app_trigger=function(){i.fn.trigger.apply(i(window),arguments)};var p={routes:[],config:function(t){var e=this.routes;i.each(t,function(t,n){var i=[],r={},a="^(?:/{0,1})"+t.replace(/(\/|^|\?){([^\/\?]+)}/g,function(t,e,n){var r=n.split(":");return r.length>1&&(i.push(r.shift()),n=r.join(":")),e.replace("?","\\?*")+"("+n+")"})+"$";r={reg:new RegExp(a),parts:i},r.view="string"==typeof n?n:n.view,e.push(r)})},match:function(t){var e=null;return i.each(this.routes,function(n,r){var a=r.reg?t.match(r.reg):null;return a?(e={url:a[0],view:r.view,data:{}},i.each(r.parts,function(t,n){e.data[n]=a[t+1]}),!1):void 0}),e}};e.Route=p;var h=function(t){var e=this;e.$el=i(t),e.el=e.$el[0],e.$el.delegate("a:not(.js-link-default)","tap click",function(t){var n=i(t.currentTarget);if(/http\:|javascript\:|mailto\:/.test(n.attr("href")))n.addClass("js-link-default");else if(t.preventDefault(),"tap"==t.type){var r=n.attr("href");/^#/.test(r)||(r="#"+r),e.to(r)}return!1}),window.back=i.proxy(e.back,e)},m=h.fn=h.prototype={useTransition:!/Android\s2/.test(navigator.userAgent),url:null,currentActivity:null,activities:[],history:[],_records:[],_recordIndex:-1,index:-1,_bindAttrs:[],$:function(t){return"string"==typeof t&&"#"==t[0]&&(t='[id="'+t.substr(1)+'"]'),i(t,this.$el)},one:function(t,e){return this.$el.one(t,i.proxy(e,this)),this},bind:function(t,e){return this._bindAttrs.push([t,e]),this.$el.bind(t,i.proxy(e,this)),this},unbind:function(t,e){for(var a,n=this,i=n.$el,r=n._bindAttrs.length-1;r>=0;r--)a=n._bindAttrs[r],a[0]!=t||"undefined"!=typeof e&&e!==a[1]||(i.unbind.apply(i,a),n._bindAttrs.splice(r,1));return this},trigger:function(){var t=d.call(arguments),e=t.shift();return this.$el.triggerHandler(e,t),this},_isMatching:!1,_matches:[],viewPath:"views/",startURL:location.hash.replace("#","")||location.pathname+location.search,startPath:location.pathname+location.search,start:function(){var t=this,e=this.startURL;this.bind("ActivityStart",function(e,n){t.url=n.route.url;{var i=t.currentActivity,r=t.toOptions;r&&t.toOptions.easingIn,r&&t.toOptions.easingOut}t.currentActivity=n,delete t.toOptions,i&&("destory"==i.status?i.animateFinish():(i.pause(),n.playUnderlayer(i)),n.animateIn())}),t.mask=i('<div class="winheight" style="position:fixed;top:0px;bottom:0px;right:0px;width:100%;background:rgba(0,0,0,0);z-index:2000;display:none"></div>').on("tap click touchend touchmove touchstart",function(t){t.preventDefault()}).appendTo("body"),i(window).on("hashchange",function(){t.url=location.hash.replace(/^#/,"")||t.startPath||"/",-1==c(t._records,t.url)?t._records.push(t.url):t._records.length=c(t._records,t.url)+1,console.log("_startActivity",t.url,t._records),t._startActivity(t.url)}).on("scroll",function(){}),e!==t.startPath&&i(".view",t.$el).remove(),t.$el.addClass("active"),t.url=e||"/",t._records.push(t.url),t._startActivity(t.url),console.log("app start",this._records,t.url)},_loadActivity:function(t){var e=this,n=i.Deferred();return e._isMatching=!0,seajs.use(e.viewPath+t.view,function(i){var r=new i({application:e,route:t});e._add(r),r.bind("Start",function(){this.bind("Destory",function(){var t=e.indexOf(this),n=e.length>1&&-1!=t&&t==e.length-1;e._remove(this),n?e.get().resume():this._destoryEnd()}).bind("Resume",function(){e._remove(this)._add(this),e.trigger("ActivityStart",this)}),e.trigger("ActivityStart",this)}).start(),e._isMatching=!1,e._matches.length&&e.to.apply(e,e._matches.shift()),n.resolve()}),n},_startActivity:function(t){var e=this,n=e.indexOf(t);if(-1==n){var r=p.match(t);r&&e._loadActivity(r)}else{for(var a,o=0,s=n+1,l=e.activities.length-1;l>=s;s++)activity=e.activities[s],s==l?(a=activity,e.length-=o,e.history.splice(n+1,o),i.each(e.activities.splice(n+1,o),function(t,e){e.finish()})):o++;a&&a.finish()}},length:0,_dfdController:i.when(),getOrCreate:function(t,e){var n=this;n._dfdController=n._dfdController.then(function(){var r=n.get(t);if(null==r){var a=i.Deferred(),o=p.match(t);return seajs.use(n.viewPath+o.view,function(t){var i=new t({application:n,route:o});i.bind("Start",function(){this.bind("Destory",function(){var t=n.indexOf(this),e=n.length>1&&-1!=t&&t==n.length-1;n._remove(this),e?n.get().resume():this._destoryEnd()}).bind("Resume",function(){n._remove(this)._add(this),n.trigger("ActivityStart",this)}),n.trigger("ActivityStart",this)}),n._add(i),e.call(n,i),a.resolve()}),a}e.call(n,r)})},get:function(t){var e="undefined"==typeof t?this.length-1:"number"==typeof t?t:this.indexOf(t);return-1==e||e>=this.activities.length?null:this.activities[e]},indexOf:function(t){return u("string"==typeof t?this.history:this.activities,t)},_remove:function(t){var e=this,n="number"==typeof t?t:e.indexOf(t);return-1!=n&&(e.activities.splice(n,1),e.history.splice(n,1),e.length--),e},_add:function(t){var e=this;return e.activities.push(t),e.history.push(t.route.url),e.length++,e},to:function(t,e){var n=this;if(t=t.replace(/^#/,"")||n.startURL,this._isMatching){var r=d.call(arguments);return void(-1==u(this._matches,0,r[0])&&this._matches.push(r))}if(this.url!=t){this.toOptions=i.extend({easingIn:null,easingOut:null},e);var a=this._records,o=c(a,t),s=c(a,this.url);this.url=t,n.useTransition&&n.saveScroll(),-1==o?(a.splice(s+1,0,t),a.length=s+2,location.hash=t):history.go(o-s)}},saveScroll:function(){var t=this,e=t.currentActivity,n=window.innerHeight,i=window.scrollY,a=r.s2i(e.$el.css("top"))||0,o=e.$el.css("marginBottom")||"";e.$el.attr({"amin-temp-top":a,"amin-temp-margin-bottom":o,"amin-temp-scrolltop":i}).css({top:a-i,height:n+i-a,marginBottom:a-i}),e.$("header").css({top:i+"px",position:"absolute"}),e.$("footer").css({position:"absolute"}),t.$el.css({height:n}).attr("amin-temp-scrolltop",i),t.el.clientHeight},back:function(){var t=this,e=t._records;if(t.length>1){t.useTransition&&t.saveScroll();var n=c(e,t.url);-1!=n&&(e.length=n),history.back()}return t}},g=!1,v=function(t){var e=this;e._options||(e._options=t=i.extend({application:null,route:null},t)),e.route=t.route,e.application=t.application,e.useTransition=e.application.useTransition,e.$viewport=t.application.$el,e.$el=!g&&i(".view",e.$viewport).length?i(".view",e.$viewport).addClass(e.className+" "+e.animateInClassName+" run active timer"):i('<div class="'+e.className+'"></div>').addClass(e.animateInClassName+(g?"":" run active timer")).appendTo(e.$viewport),e.el=e.$el[0],e.useTransition||(e.el.style["-webkit-transition"]="none"),e.bind("Destory",e.onDestory),e.bind("Resume",e.onResume),e.bind("Start",e.onStart),e.bind("Pause",e.onPause),e.bind("Active",e.onActive),e.status="init",e.events&&i.each(e.events,function(t,n){var r=t.split(" "),a=r.shift();a=a.replace(/,/g," "),n=i.isFunction(n)?n:e[n],r.length>0&&""!==r[0]?e._bind(r.join(" "),a,n):e.bind(a,n)}),e.initDfd=e.init(),g=!0},b=(v.fn=v.prototype={events:{"touchstart [hl]":function(t){var e=t.touches[0];this._hf_startX=e.pageX,this._hf_startY=e.pageY,this._elHl=i(t.currentTarget).addClass("active")},"touchmove header,footer":function(t){t.preventDefault()},touchmove:function(t){this._elHl&&(Math.abs(t.touches[0].pageX-this._hf_startX)>10||Math.abs(t.touches[0].pageY-this._hf_startY)>10)&&(this._elHl.removeClass("active"),this._elHl=null)},"touchend,touchcancel":function(){this._elHl&&this._elHl.removeClass("active"),this._elHl=null},"tap [data-href]":function(t){this.to(i(t.currentTarget).attr("data-href"))}},className:"view",_bindDelegateAttrs:[],_bindAttrs:[],_bindResults:[],_bind:function(t,e,n){this._bindDelegateAttrs.push([t,e,n]),this.$el.delegate(t,e,i.proxy(n,this))},listenToResult:function(t,e){t="result_"+t,this._bindResults.push([t,e]),this.$viewport.bind(t,i.proxy(e,this))},setResult:function(){var t=d.call(arguments);this.$viewport.trigger("result_"+t.shift(),t)},one:m.one,bind:m.bind,unbind:m.unbind,trigger:m.trigger,$:m.$,init:l,onCreate:l,onStart:l,onBeforeResume:l,onActive:l,onResume:l,onPause:l,onDestory:l,_resetHeight:function(){this.$viewport.css({height:"0"}),this.$el.css({height:"0"}),this.el.clientHeight,this.$viewport[0].clientHeight,this.$viewport.css({height:""}),this.$el.css({height:""})},playUnderlayer:function(t){t.animateOut()},_transitionTime:function(t){t+="ms",this.el.style["-webkit-transition-duration"]=t},animateInClassName:"anim-in",animateOutClassName:"anim-out",animateIn:function(){var t=this,e=window.innerHeight;t.el.parentNode||(t.$el.appendTo(t.$viewport),t.el.clientHeight),t.useTransition?(t.application.mask.show(),t.$viewport.addClass("screen"),t.$el.one(i.fx.transitionEnd,function(){t.$viewport.removeClass("screen");var e=t.$el.attr("amin-temp-top"),n=parseInt(t.$el.attr("amin-temp-scrolltop"));null!=e?(t.$el.css({top:e,height:"",marginBottom:t.$el.attr("amin-temp-margin-bottom")}).removeAttr("amin-temp-top").removeAttr("amin-temp-scrolltop").removeAttr("amin-temp-margin-bottom"),t._resetHeight(),window[i.isFunction(window.scrollTo)?"scrollTo":"scroll"](0,n||0),t.$viewport.attr("amin-temp-scrolltop",0)):t._resetHeight(),t.$el.removeClass("timer").addClass("active"),t.el.clientHeight,t.$("header,footer").each(function(){this.style.cssText=""}),t.$el.addClass("timer"),t.application.mask.hide()}),t.$el.hasClass(t.animateInClassName)?(t.el.className=t.className+" "+t.animateInClassName+" timer",t.$el.css({height:e}),t.$("footer").css({position:"absolute"}),t.el.clientHeight,t.$el.addClass("run")):(t.$el.removeClass("timer").addClass(t.animateInClassName+"-timer"),t.el.clientHeight,t.el.className=t.className+" "+t.animateInClassName+" timer run")):(t.el.className=t.className+" "+t.animateInClassName+" run active",t._resetHeight(),t.$("footer").css({position:""}))},animateOut:function(){var t=this;if(t.useTransition){if(null==t.$el.attr("amin-temp-top")){var e=t.$viewport.attr("amin-temp-scrolltop")||window.scrollY,n=window.innerHeight,r=parseInt(t.$el.css("top"))||0,a=t.$el.css("margin-bottom")||"";t.$el.attr({"amin-temp-top":r,"amin-temp-margin-bottom":a,"amin-temp-scrolltop":e}).css({top:r-e,height:n+(e-r),marginBottom:a}),t.$("header").css({top:e+"px",position:"absolute"}),t.$("footer").css({position:"absolute"})}t.el.className=t.className+" "+t.animateOutClassName+" timer",t.el.clientHeight,t.$el.one(i.fx.transitionEnd,function(){t.$el.addClass("stop"),t.$el.remove()}).addClass("run")}else t.el.className=t.className+" "+t.animateOutClassName+" stop",t.$("footer").css({position:"absolute"}),t.$el.remove()},animateFinish:function(){var t=this,n=(window.scrollY,window.innerHeight);if(t.useTransition){{parseInt(this.$el.css("top"))}this.$viewport.css({height:n}),this.$el.one(i.fx.transitionEnd,function(){t._destoryEnd()}).removeClass("active").addClass("finish")}else t._destoryEnd()},_destoryEnd:function(){this.$viewport.css({height:""}),this.$el.remove(),this.$el=null,this.el=null,this.application=null,this.$viewport=null},start:function(){var t=this;t.status="start",t.trigger("Start"),i.when(t.initDfd).then(i.proxy(t.onCreate,t)).then(function(){t.trigger("Active")})},pause:function(){var t=this;t.status="pause",t.trigger("Pause")},destory:function(){var t=this.$el,e=this;e.status="destory",i.each(this._bindDelegateAttrs,function(e,n){t.undelegate.apply(t,n)}),i.each(this._bindResults,function(t,n){e.$viewport.unbind.apply(e.$viewport,n)}),this.one("Destory",function(){i.each(e._bindAttrs,function(e,n){t.unbind.apply(t,n)})}),this.trigger("Destory")},resume:function(){this.trigger("Resume"),this.trigger("Active")},finish:function(){this.status="finish",this.destory()},back:function(){this.application.back()},to:function(t,e){this.application.to(t,e)},_loading:function(t){this.$loading||(this.$loading=i('<div class="dataloading"><div class="msg"></div></div>').appendTo(this.$el));var e=this.$loading;return t===!1||"hide"===t?e.hide():"undefined"==typeof t?e.removeClass("loading-error").show():e.addClass("loading-error").find(".msg").html(t),this}},function(t,e){var n=this;n.template&&!e?(e=t,n.options=i.extend({},n.options,e),t=o(n.template,n.options)):n.options=i.extend({},n.options,e),n.$el=i(t),n.el=n.$el[0],n.events&&i.each(n.events,function(t,e){n.listen(t,e)}),n.init()});b.fn=b.prototype={template:"",options:{},events:null,_bindDelegateAttrs:[],_bindAttrs:[],_bindResults:[],_bind:function(t,e,n){return this._bindDelegateAttrs.push([t,e,n]),this.$el.delegate(t,e,i.proxy(n,this)),this},listen:function(t,e){var n=this,r=t.split(" "),a=r.shift();return a=a.replace(/,/g," "),e=i.isFunction(e)?e:n[e],r.length>0&&""!==r[0]?n._bind(r.join(" "),a,e):n.bind(a,e),n},listenToResult:function(t,e){t="result_"+t,this._bindResults.push([t,e]),i(document).bind(t,i.proxy(e,this))},setResult:function(){var t=d.call(arguments);i(document).trigger("result_"+t.shift(),t)},one:m.one,on:function(t,e,n){return n?this._bind(t,e,n):this.bind(t,e),this},bind:m.bind,unbind:m.unbind,trigger:m.trigger,$:m.$,init:l,destory:function(){var t=this.$el,e=this;i.each(this._bindDelegateAttrs,function(e,n){t.undelegate.apply(t,n)}),i.each(this._bindResults,function(t,e){i(document).unbind.apply(i(document),e)}),this.one("Destory",function(){i.each(e._bindAttrs,function(e,n){t.unbind.apply(t,n)})}),this.trigger("Destory")}},h.extend=v.extend=b.extend=function(t){var e=this,n=function(){e.apply(this,d.call(arguments))};return n.fn=n.prototype=i.extend({},e.prototype,t,{superClass:e.prototype}),n.fn.options=i.extend({},e.prototype.options,n.fn.options),n.fn.events=i.extend({},e.prototype.events,n.fn.events),n.extend=arguments.callee,n};var $=function(t){this._tip=i('<div class="tip" style="display:none">'+(t||"")+"</div>").appendTo("body")};$.prototype={_hideTimer:null,_clearHideTimer:function(){var t=this;t._hideTimer&&(clearTimeout(t._hideTimer),t._hideTimer=null)},_visible:!1,show:function(t){var e=this,n=e._tip;return e._clearHideTimer(),t&&(e._hideTimer=setTimeout(function(){e._hideTimer=null,e.hide()},t)),e._visible?void 0:(e._visible=!0,n.css({"-webkit-transform":"scale(0.2,0.2)",display:"block",visibility:"visible",opacity:0}).animate({scale:"1,1",opacity:.9},200,"ease-out"),e)},hide:function(){var t=this,e=t._tip;if(t._visible)return t._visible=!1,e.animate({scale:".2,.2",opacity:0},200,"ease-in",function(){e.hide().css({"-webkit-transform":"scale(1,1)"})}),t._clearHideTimer(),t},text:function(t){var e=this,n=e._tip;return n.html(t).css({"-webkit-transform":"scale(1,1)","-webkit-transition":""}),"none"==n.css("display")&&n.css({visibility:"hidden",display:"block",marginLeft:-1e3}),n.css({marginTop:-1*n.height()/2,marginLeft:-1*n.width()/2}),e}};var _={Route:p,View:b,Application:h,Activity:v,anim:s.anim,has3d:s.has3d,indexOf:u,lastIndexOf:c,tip:w($,function(t){this.text(t).show(3e3)}),common:{},_loading:null,loading:function(t){return this._loading||(this._loading=i('<div id="dataloading" class="dataloading"><div class="msg"></div></div>').appendTo("body")),loading=this._loading,t===!1||"hide"===t?loading.hide():"undefined"==typeof t?loading.removeClass("loading-error").show():loading.addClass("loading-error").find(".msg").html(t),this},zeptolize:x,simplelize:w};n.exports=_});
define("ui/sl.app",["$","app","tmpl","ui/sl","views.text"],function(t,e,n){function d(t){var e=this,n=i.Deferred(),r=c[t];return"undefined"!=typeof r?n.resolveWith(e,[r]):l(t,function(a){var o=[],s=[];if(r={_templates:{},templates:o,includes:[]},a=a.replace(/<include src=("|')(.+?)\1[^>]*?>/gim,function(t,n,i){var a="<include_"+i+">";return s.push(function(){return d.call(e,i).done(function(t){r.main=r.main.replace(a,t.main),r.includes.push(t)})}),a}),a=a.replace(/<script([^>]+)>([\S\s]+?)<\/script>/gim,function(t,e,n){var i=e.match(/\bid=("|')(.+?)\1/i);return i&&(r._templates[i[2]]=o.length),o.push(n),""}),o.push(a),i.each(o,function(t,e){o[t]=e.replace(/\{\%include\s+(\w+)\%\}/gim,function(t,e){return o[r._templates[e]]})}),r.main=a,r.template=r.templates.length?r.templates[0]:null,c[t]=r,s.length){for(var l=s.shift()();s.length;)l=l.then(s.shift());l.then(function(){n.resolveWith(e,[r])})}else n.resolveWith(e,[r])}),n.promise()}var i=t("$"),r=t("ui/sl"),a=t("tmpl"),o=t("app"),s=t("views.text"),l=null==s?i.get:function(t,e){e(s[t])},u=Array.prototype.slice;r.Application=r.Application.extend({viewPath:"views/",startURL:location.hash.replace("#",""),startPath:""});var c={};r.Activity=r.Activity.extend({init:function(){var t=this;return d.call(t,t.template).done(function(e){t.$el.html(e.main),t.templates=e})},template:"views/home.html",getTemplate:function(t,e){var n=this;if(e=e||this.templates,!t)return e.template;if("number"==typeof t)return e.templates[t];var i=e._templates;if("undefined"!=typeof i[t])return e.templates[i[t]];for(var o,r=0,a=e.includes.length;a>r;r++)if(o=n.getTemplate(t,e.includes[r]))return o;return null},tmpl:function(){var t=this,e=u.apply(arguments),n=0,r=e[n++],o=e[n++],s=e.pop();if(template=t.getTemplate(r),"string"==typeof o){var l=i.Deferred();return i.ajax({url:o,data:s,dataType:"json",type:"post",success:function(e){l.resolveWith(t,[a(template,e)])},error:function(){l.reject()}}),l.promise()}return a(template,s)},reload:function(t){var e=this;e.trigger("Reload"),t&&i.extend(e.loadingOpt,t),e.loadingOpt.data.page=1,e._load()},load:function(t){var e=this;e.loadingOpt=t=i.extend({url:"",data:null,success:null,refresh:null},t),e._load()},_load:function(){var t=this,e=t.loadingOpt,n=!0,r=i.extend({page:1,pageSize:10},e.data),a=t.$(e.container);t._loadingXhr&&t._loadingXhr.abort(),t._loading(),t._loadingXhr=o.post(e.url,r,function(s){if(t._loadingXhr=null,s&&s.success)if(s.data){if(s._params=r,e.success&&e.success(s),t._loading("hide"),s.total&&s.total>r.page*r.pageSize){var l=i('<div class="refreshing"></div>').appendTo(a),u=function(){i(window).off("scroll",d)},c=window.scrollY,d=function(){!n&&c<window.scrollY&&window.scrollY+window.innerHeight>=document.body.scrollHeight-40&&(t._loadingXhr&&t._loadingXhr.abort(),l.html("正在载入..."),n=!0,t._loadingXhr=o.post(e.url,r,function(a){t._loadingXhr=null,a&&a.success?a.data?(e.refresh&&e.refresh(a),a.total&&a.total>r.page*r.pageSize?r.page++:(l.hide(),t.unbind("Destory",u),t.unbind("Pause",u),t.unbind("Resume",p),i(window).off("scroll",d))):(l.html("暂无数据"),setTimeout(function(){l.animate({height:0},300,"ease-out")},3e3)):l.html(a&&a.msg||"网络错误，点击重试").one("tap",d),n=!1})),c=window.scrollY},p=function(){i(window).on("scroll",d)};t.bind("Destory",u),t.bind("Pause",u),t.bind("Resume",p),t.one("Reload",function(){t.unbind("Destory",u),t.unbind("Pause",u),t.unbind("Resume",p),u(),l.remove()}),p(),r.page++}}else t._loading("暂无数据");else t._loading(s&&s.msg||"网络错误");n=!1})}}),r.checkUpdate=function(){var t=i.Deferred();return i.ajax({url:o.url("/api/CPService/CheckVersion/?ct=json&apptype="+(o.isAndroid?0:1)),dataType:"json",success:function(e){"00000"==e.ReturnCode?t.resolve(e.DownLoadUrl,e.Version,e.UpdateMsg):t.reject(e.ReturnCode+"错误")},error:function(){t.reject("网络错误")}}),t},n.exports=r});
define("ui/loading",["$","ui/sl","app"],function(t,e,n){var i=t("zepto"),a=t("ui/sl"),r=t("app"),o=[],s=a.View.extend({events:{},options:{keys:null,check:null},check:function(t){console.log("check");var e=!(!t||!t.success);return e},hasData:function(t){return t.data&&t.data.length},keys:["page","pageSize"],dataKeys:["page","pageSize","total",""],init:function(){var t=this;t.options.check&&(t.check=t.options.check),t.options.hasData&&(t.hasData=t.options.hasData),t.options.keys&&(t.keys=t.options.keys),t.options.dataKeys&&(t.dataKeys=t.options.dataKeys),t.key_page=t.keys[0],t.key_pageSize=t.keys[1],t.dataKey_page=t.dataKeys[0],t.dataKey_pageSize=t.dataKeys[1],t.dataKey_total=t.dataKeys[2],t.dataKey_pageNum=t.dataKeys[3]},reload:function(t){var e=this;e.loading||(e.loading=!0,e.isLoad=!1,e.trigger("Reload"),t&&i.extend(e.loadingOpt,t),e.loadingOpt.data[e.key_page]=1,e._load())},load:function(t){var e=this;e.loading||(e.loading=!0,e.loadingOpt=t=i.extend({url:"",headers:"Win32"!=navigator.platform&&"Win64"!=navigator.platform&&localStorage.authCookies?{Cookie:localStorage.authCookies}:null,type:"GET",data:null,timeout:15,success:null,refresh:null},t),e._load())},abort:function(){this._xhr&&(this.loading=!1,this.isLoad=!1,this._xhr.abort(),this._xhr=null,this.hide())},msg:function(t){var e=this,n=e.loadingOpt.data?e.loadingOpt.data[e.key_page]:1;1==n?e._exec(t):e.$refreshing.html(t)},show:function(){this._exec()},hide:function(){this._exec("hide")},_load:function(){for(var t=this,e=t.loadingOpt,n={},a=o.length-1;a>=0;a--)o[a].disableAutoRefreshing();n[t.key_page]=1,n[t.key_pageSize]=10;var r=i.extend(n,e.data);t.loadingOpt.data=r,t.loadingOpt.hasData&&(t.hasData=t.loadingOpt.hasData),t.abort(),t._exec(),t._ajax({success:function(n,i,a){t.isLoad=!0,e.success&&e.success(n,i,a),t._exec("hide")},error:e.error&&e.error||function(e){t._exec(e&&e.msg||"网络错误")}})},_exec:function(t){var e=this,n=e.$el.css("position");e.$loading||(e.$loading=i('<div class="dataloading"><div class="msg"></div></div>'),"BODY"==e.el.tagName&&e.$loading.addClass("screen").css({position:"fixed"}));var a=e.$loading.css({top:"body"==e.el.tagName?"":-1!=i.inArray(n,["absolute","relative","fix"])?0:e.$el.position().top}).appendTo(e.$el);t===!1||"hide"===t?a.hide():"undefined"==typeof t?a.removeClass("loading-error").show():a.addClass("loading-error").find(".msg").html(t)},_ajax:function(t){var e=this,n=e.loadingOpt;t=i.extend({url:r.url(n.url),headers:n.headers,data:n.data,type:n.type,dataType:n.dataType||"json"},t),e.abort();var a=t.success,o=t.error;t.success=function(t,i,r){e._xhr=null,e.loadingOpt.check===!1||e.check(t)?e.loadingOpt.checkData===!1||e.hasData(t)?(t._params=n.data,a.call(e,t,i,r),e.loading=!1,e.checkAutoRefreshing(t)):e._dataNotFound(t):o.call(e,t),e.loading=!1},t.error=function(t){e._xhr=null,o.call(e,t),e.loading=!1},e._xhr=i.ajax(t)},_refresh:function(){if(!this.loading){this.loading=!0;var t=this,e=t.loadingOpt,n=(t.$refreshing||(t.$refreshing=i('<div class="refreshing"></div>'))).appendTo(t.$el);n.html("正在载入..."),t._ajax({success:function(n){e.refresh.call(t,n),t.$refreshing.remove()},error:e.refreshError&&e.refreshError||function(e){t.$refreshing.one("tap",i.proxy(t._refresh,t)).html(e&&e.msg||"网络错误，点击重试")}})}},_dataNotFound:function(){var n=this,i=n.loadingOpt.data?n.loadingOpt.data[n.key_page]:1;if(1==i)n._exec("暂无数据");else{var a=n.$refreshing;a.html("暂无数据"),setTimeout(function(){a.animate({height:0},300,"ease-out")},3e3)}},_scroll:function(){var t=this;!t.loading&&t._scrollY<window.scrollY&&window.scrollY+window.innerHeight>=document.body.scrollHeight-40&&t._refresh(),t._scrollY=window.scrollY},_autoRefreshingEnabled:!1,checkAutoRefreshing:function(t){var e=this,n=e.loadingOpt.data;e.loadingOpt.refresh&&e.dataKey_pageNum&&t[e.dataKey_pageNum]&&t[e.dataKey_pageNum]>n[e.key_page]||e.dataKey_total&&t[e.dataKey_total]&&t[e.dataKey_total]>n[e.key_page]*n[e.key_pageSize]?(n[e.key_page]++,e.enableAutoRefreshing()):e.disableAutoRefreshing()},enableAutoRefreshing:function(){this._autoRefreshingEnabled||(this._autoRefreshingEnabled=!0,o.push(this),i(window).on("scroll",i.proxy(this._scroll,this)),this.bind("Destory",this.disableAutoRefreshing),this._scrollY=window.scrollY,window.innerHeight==document.body.scrollHeight&&this._refresh())},disableAutoRefreshing:function(){if(this._autoRefreshingEnabled){this._autoRefreshingEnabled=!1;for(var t=o.length-1;t>=0;t--)if(o[t]==this){o.splice(t,1);break}i(window).off("scroll",this._scroll),this.unbind("Destory",this.disableAutoRefreshing),this.$refreshing&&this.$refreshing.remove()}}});a.zeptolize("Loading",s),n.exports=s});
define("ui/dialog",["$","ui/sl"],function(t,e,n){var i=t("zepto"),a=t("ui/sl"),o=null,r='<div class="dialog"><div class="dialog-title"><h3>${title}</h3></div><div class="dialog-content">{%html content%}</div><div class="dialog-btns"><a class="dialog-btn js_hide">${cancelText}</a><a class="dialog-btn js_ok">${okText}</a></div></div>',s=a.View.extend({events:{"tap .js_hide":"cancel","tap .js_ok":"ok",touchmove:function(t){t.preventDefault()}},template:r,options:{title:"提示",content:null,cancelText:"取消",okText:"确定"},title:function(t){this.$title.html(t)},init:function(){var t=this;t.$title=t.$(".dialog-title h3")},hide:function(){this.$el.hide(),o.hide()},show:function(){o||(o=i('<div class="winheight" style="position:fixed;top:0px;bottom:0px;right:0px;width:100%;background: #888;opacity: 0.5;z-index:2000;display:none"></div>').appendTo("body")),o.show(),this.$el.appendTo("body").show().css({top:window.scrollY+(window.innerHeight-this.$el.height())/2})},ok:function(){this.options.onOk&&this.options.onOk.call(this)===!1||this.hide()},cancel:function(){this.options.onCancel&&this.options.onCancel.call(this),this.hide()}}),l=null;a.prompt=function(t,e,n){e||(e=t,t="请输入"),l?l.title(t):l=new s({title:t,content:'<input type="text" class="prompt-text" /><input type="password" class="prompt-text" />'}),l.$("input.prompt-text").val("").hide().filter('[type="'+(n||"text")+'"]').show(),l.options.onOk=function(){return e.call(this,this.$('input[type="'+(n||"text")+'"].prompt-text').val())},l.options.onCancel=function(){e.call(this)},l.show(),i(window).one("hashchange",function(){l.hide()})};var u=null;a.confirm=function(t,e,n,a){var o={};i.isPlainObject(t)?(a=n,n=e,i.extend(o,t)):i.isFunction(e)?(a=n,n=e,o.content=t,o.title="确认提示"):(o.title=t,o.content=e),u?(u.title(o.title),u.$(".dialog-content").html(o.content),u.$(".js_hide").html(o.cancelText||"取消"),u.$(".js_ok").html(o.okText||"确定")):u=new s(o),u.options.onOk=function(){n.call(this)},u.options.onCancel=function(){a&&a.call(this)},u.show(),i(window).one("hashchange",function(){u.hide()})},n.exports=s});
define("ui/slider",["$","ui/sl"],function(t,e,n){var i=t("$"),a=t("ui/sl"),o=a.View.extend({events:{touchstart:"_start",touchmove:"_move",touchend:"_end"},options:{index:-1,loop:!0,width:50,onChange:null,data:[],render:null,imagelazyload:!1,arrow:!1},loop:!0,data:[],index:0,render:function(t){this.$slider.append("<li>"+t.TypeName+"</li>")},init:function(){var t=this;t.loop=t.options.loop,"string"==typeof t.options.width&&(t.options.width=parseInt(t.options.width.replace("%",""))),t.options.render&&(t.render=i.proxy(t.options.render,t));var e=t.$("ul");if(e.length?(t.$slider=e,t.data=t.$items=e.children()):(t.$slider=e=i("<ul></ul>").appendTo(t.$el),t.data=t.options.data,i.each(t.data,function(e,n){t.render(n)}),t.$items=e.children()),t.length=t.$items.length,t.index=-1==t.options.index?t.length%2==0?t.length/2-1:Math.floor(t.length/2):t.options.index,t.currData=t.data[t.index],t.length<2)return console.log("传入data的length必须大于2"),void t.destory();t.length<4&&(t.loop=!1);var n;t.loop?(n=t.length+2,t.$items.eq(0).before(t.$items.eq(t.length-1).clone()),t.$items.eq(t.length-1).after(t.$items.eq(0).clone())):n=t.length,e.css({width:n*t.options.width+"%"}),e.children().css({width:100/n+"%"}),t.itemWidth=t.$items.width(),e.css({"margin-left":(100-3*t.options.width)/2-(t.loop?t.options.width:0)+"%"}),t.minX=-1*t.itemWidth*(t.length-2),t.slider=t.$slider[0],t.slider.style["-webkit-transform"]="translate("+t.itemWidth*(t.index-1)*-1+"px,0px)",t.slider.style["-webkit-transition"]="-webkit-transform 0ms ease 0ms",t._getXY(),t.options.imagelazyload&&(t.bind("Change",function(){t._loadImage()}),t._loadImage()),t.options.arrow&&(t._prev=i('<span class="slider-pre js_pre"></span>').appendTo(t.$el),t._next=i('<span class="slider-next js_next"></span>').appendTo(t.$el),t.listen("tap .js_pre",function(){t.slideTo(t.index-1)}).listen("tap .js_next",function(){t.slideTo(t.index+1)})),i(window).on("ortchange",function(){t.itemWidth=t.$items.width(),t._pos(t.itemWidth*(t.index-1)*-1,t.y)})},_loadImage:function(){var t=this,e=t.$items.eq(t.index);e.prop("_detected")||(t.loop&&(0==t.index?e=e.add(t.$slider.children(":last-child")):t.index==t.length-1&&(e=e.add(t.$slider.children(":first-child")))),e.find("img[lazyload]").each(function(){this.src=this.getAttribute("lazyload"),this.removeAttribute("lazyload")}),e.prop("_detected",!0))},_getXY:function(){var t=this,e=getComputedStyle(t.$slider[0],null)["-webkit-transform"].replace(/[^0-9\-.,]/g,"").split(",");t.x=parseInt(e[4]),t.y=parseInt(e[5])},_transitionTime:function(t){t+="ms",this.slider.style["-webkit-transition-duration"]=t},_start:function(t){var e=this,n=t.touches[0];/js_pre|js_next/.test(t.target.className)||e.isTransition||(e._stopChange(),e._isStart=!0,e._transitionTime(0),e._getXY(),e.startX=e.x,e.startY=e.y,e.pointX=n.pageX,e.pointY=n.pageY)},_move:function(t){if(this._isStart){var e=this,n=t.touches[0],i=e.pointX-n.pageX,a=e.pointY-n.pageY,o=e.startX-i;e.moveX=n.pageX,(20>a||i>a)&&t.preventDefault(),e.loop||(o=o>e.itemWidth?e.itemWidth:o<e.minX?e.minX:o),e._stopChange(),e._pos(o,e.startY)}},_pos:function(t,e){var n=this,i=n.slider;n.x=t||0,n.y=e||0,i.style["-webkit-transform"]="translate("+n.x+"px,"+n.y+"px)"},_transitionEnd:function(){var t=this;t._transitionTime(0)},_change:function(t){var e=this;e._changeTimer=setTimeout(function(){e._changeTimer=!1,e.currData=t,e.options.onChange&&e.options.onChange.call(e,t,e.index)},400),e.trigger("Change",t,e.index)},_stopChange:function(){var t=this;t._changeTimer&&(t._changeTimer=!1,clearTimeout(t._changeTimer))},_end:function(t){var e=this,n=t.changedTouches[0],i=e.pointX-n.pageX;if(e._isStart)if(e._isStart=!1,!e.loop&&(e.startX-i>e.itemWidth||e.startX-i<e.minX));else{var o=e.index;i>20?o++:-20>i?o--:e.loop,e.slideTo(o)}},guid:0,slideTo:function(t){var e=this,n=e.data[t];e.isTransition||(e.isTransition=!0,e._transitionTime(200),x=e.itemWidth*(t-1)*-1,t>=e.length?t=0:0>t&&(t=e.length-1),e.$slider.one(i.fx.transitionEnd,function(){e.isTransition=!1,e._transitionEnd(),(t==e.length-1||0==t)&&e._pos(e.itemWidth*(t-1)*-1,e.startY)}),e._pos(x,e.startY),e.index!=t&&(e.index=t,e._change(n)))},getData:function(){return this.currData}});n.exports=o});
define("ui/dotslider",["$","ui/sl","ui/slider"],function(t,e,n){var i=t("$"),o=(t("ui/sl"),t("ui/slider"));n.exports=o.extend({options:{dots:!0},init:function(){var t=this;t.superClass.init.call(t);var e=1;t.$dots=i("<ol>"+new Array(t.length+1).join("<li>a</li>").replace(/a/g,function(){return e++})+"</ol>").appendTo(t.$el).children("li"),t.$dots.eq(t.index).addClass("curr"),t.bind("Change",function(){t.$dots.removeClass("curr").eq(t.index).addClass("curr")})}})});
define("ui/dropdown",["$","ui/sl"],function(t,e,n){var i=t("$"),o=t("ui/sl"),a=o.View.extend({template:'<div class="dropdown hide"><ul class="dropdown_bd js_dropdown">{%each(i,item) data%}<li>${item.text}</li>{%/each%}</ul></div>',events:{Destory:function(){this.mask.off("tap").remove()},"tap .js_dropdown>li":function(t){var e=i(t.currentTarget);e.addClass("curr").siblings(".curr").removeClass("curr"),this.hide(),this.index=e.index(),this.trigger("Change",this.index)}},index:0,options:{onChange:null,data:[]},init:function(){var t=this;t.$bd=t.$(".js_dropdown"),t.$(".js_dropdown>li").eq(t.index).addClass("curr"),t.mask=i('<div class="winheight" style="position:fixed;top:0px;bottom:0px;right:0px;width:100%;background:rgba(0,0,0,0);z-index:2000;display:none"></div>').on("tap click touchend touchmove touchstart",function(t){t.preventDefault()}).appendTo("body"),t.mask.tap(function(){t.hide()}),t.$el.appendTo("body"),t.$el.on(i.fx.transitionEnd,function(){t.$el.hasClass("hide")&&t.$el.hide()}),t.options.onChange&&t.bind("Change",t.options.onChange)},show:function(){var t=this;t.$el.show().removeClass("hide"),t.mask.show()},hide:function(){var t=this;t.$el.addClass("hide"),t.mask.hide(),t.trigger("Hide")},render:function(){},pos:function(t,e){var n=this;n.$el.css({top:e,left:0})}});o.zeptolize("Dropdown",o.View.extend({events:{tap:function(){this.$el.addClass("visible"),this.show()}},init:function(){var t=this;t.dropdown=new a(t.options),t.dropdown.bind("Hide",function(){t.$el.removeClass("visible")})},show:function(){var t=this,e=t.$el.offset();t.dropdown.show(),t.dropdown.pos(e.left+t.$el.width(),e.top+t.$el.height())}})),n.exports=a});
define("ui/tabs",["$","ui/sl"],function(t,e,n){var i=t("zepto"),a=t("ui/sl"),o=a.View.extend({events:{"tap .tabs-nav>ul>li:not(.curr)":function(t){this.to(i(t.currentTarget).index())},"touchstart .tabs-nav>ul":"_start",touchmove:"_move",touchend:"_end"},options:{data:[],onChange:null},slideIndex:0,index:-1,init:function(){var t=this,e=t.options.data;t.options.render&&(t.render=i.proxy(t.options.render,t)),t.options.onChange&&t.bind("Change",t.options.onChange),t.data=e,t.$el.addClass("tabs");var n=i('<div class="tabs-nav"><ul></ul></div>').appendTo(t.$el),a=i('<div class="tabs-content"></div>').appendTo(t.$el),o=window.innerHeight-a.offset().top;t.$nav=n.find("ul"),t.nav=t.$nav[0],t.$content=a.css({minHeight:o}),t.data.length>4&&t.$nav.css({width:25*t.data.length+"%"}),i.each(t.data,function(e,n){t.render(n)}),t.$navItems=t.$nav.children(),t.$panels=a.children().css({minHeight:o}),t.itemWidth=t.$navItems.eq(0).width(),t.minSlideIndex=0,t.maxSlideIndex=t.$navItems.length-4,t.minX=-1*t.itemWidth*t.maxSlideIndex,t.maxX=t.minSlideIndex*t.itemWidth,t._getXY(),i(window).on("ortchange",function(){}),t.to(0)},render:function(t){this.$nav.append("<li>"+t.title+"</li>"),this.$content.append('<div class="tabs-panel">'+(t.content||"")+"</div>")},to:function(t){var e=this;if(e.index!=t){var n=e.$panels.eq(t);if(-1==e.index){var a=n.addClass("curr").css({"-webkit-transition-duration":"0ms",position:"relative"})[0];a.clientHeight,a.style["-webkit-transition-duration"]=""}else e.$navItems.eq(e.index).removeClass("curr"),e.$panels.eq(e.index).css({"-webkit-transform":"translate(0,0)",position:""}).removeClass("curr").css({"-webkit-transform":"translate("+(e.index<t?"-":"")+"100%,0)"}).one(i.fx.transitionEnd,function(){this.style.height=0}),n.css({height:"","-webkit-transform":"translate("+(e.index<t?"":"-")+"100%,0)"})[0].clientHeight,n.css({"-webkit-transform":"",position:"relative"}).addClass("curr");e.$navItems.eq(t).addClass("curr"),e.index=t,e.trigger("Change",n,e.options.data[t],t)}},_pos:function(t,e){var n=this,i=n.nav;i.style["-webkit-transform"]="translate("+t+"px,"+e+"px)",n.x=t,n.y=e},_transitionTime:function(t){t+="ms",this.nav.style["-webkit-transition-duration"]=t},_transitionEnd:function(){var t=this;t._transitionTime(0)},_getXY:function(){var t=this,e=getComputedStyle(t.nav,null)["-webkit-transform"].replace(/[^0-9\-.,]/g,"").split(",");t.x=parseInt(e[4]),t.y=parseInt(e[5])},_isStart:!1,_start:function(t){if(!(this.data.length<=4)){var e=this,n=t.touches[0];e._isStart=!0,e._transitionTime(0),e._getXY(),e.startX=e.x,e.startY=e.y,e.pointX=n.pageX,e.pointY=n.pageY}},_move:function(t){if(this._isStart){t.preventDefault();var e=this,n=t.touches[0],i=e.pointX-n.pageX,a=e.startX-i;a=a>0?0:a<e.minX?e.minX:a,e._pos(a,e.startY)}},_end:function(t){if(!(this.data.length<=4)){var o,e=this,n=t.changedTouches[0],a=e.pointX-n.pageX;e._isStart=!1,t.preventDefault(),0==a||(a>20?e.slideIndex<e.maxSlideIndex&&e.slideIndex++:-20>a&&e.slideIndex>e.minSlideIndex&&e.slideIndex--,e._transitionTime(200),o=e.itemWidth*e.slideIndex*-1,e.$nav.one(i.fx.transitionEnd,function(){e._transitionEnd()}),e._pos(o,e.startY))}}});a.zeptolize("Tabs",o),n.exports=o});
define("ui/imglazyload",["$","extend/scrollStop","extend/ortchange"],function(t){var i=t("$");t("extend/scrollStop"),t("extend/ortchange");var a=[];i.fn.imglazyload=function(t){function c(e){var i=r?window:n.offset(),a=i[s.win[0]],o=i[s.win[1]];return a>=e[s.img[0]]-t.threshold-o&&a<=e[s.img[0]]+e[s.img[1]]}function d(e){var n=i(e),o={},r=n;u||(i.each(n.get(0).attributes,function(){~this.name.indexOf("data-")&&(o[this.name]=this.value)}),r=i("<img />").attr(o)),n.trigger("startload"),r.on("load",function(){!u&&n.replaceWith(r),n.trigger("loadcomplete"),r.off("load")}).on("error",function(){var t=i.Event("error");n.trigger(t),t.defaultPrevented||a.push(e),r.off("error").remove()}).attr("src",n.attr(t.urlName))}function p(){var t,n,o,r;for(t=a.length;t--;)n=i(r=a[t]),o=n.offset(),c(o)&&(e.call(a,t,1),d(r))}function h(){!u&&l&&i(a).append(l)}var e=Array.prototype.splice,t=i.extend({threshold:0,container:window,urlName:"data-url",placeHolder:"",eventName:"scrollStop",innerScroll:!1,isVertical:!0},t),n=i(t.container),o=t.isVertical,r=i.isWindow(n.get(0)),s={win:[o?"scrollY":"scrollX",o?"innerHeight":"innerWidth"],img:[o?"top":"left",o?"height":"width"]},l=i(t.placeHolder).length?i(t.placeHolder):null,u=i(this).is("img");return!r&&(s.win=s.img),a=Array.prototype.slice.call(i(a.reverse()).add(this),0).reverse(),i.isFunction(i.fn.imglazyload.detect)?(h(),this):(i(document).ready(function(){h(),p()}),!t.innerScroll&&i(window).on(t.eventName+" ortchange",function(){p()}),i.fn.imglazyload.detect=p,this)}});