@{
    
    string qs = "";

    for (int i = 0; i < Request.QueryString.Count; i++)
    {
        if (Request.QueryString.GetKey(i) != "path")
        {
            qs += Request.QueryString.GetKey(i) + "=" + Request.QueryString[i] + "&";
        }
    }


    string url = "http://ms1.962666.cn" + Request.QueryString["path"] + (Request.QueryString["path"].IndexOf('?') == -1 ? '?' : '&') + qs;

    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);

    request.Method = Request.HttpMethod;

    qs = "";
    if (Request.HttpMethod == "POST")
    {


        for (int i = 0; i < Request.Form.Count; i++)
        {
            if (Request.Form.GetKey(i) != "path")
            {
                qs += Request.Form.GetKey(i) + "=" + Request.Form[i] + "&";
            }
        }

        request.ContentType = "application/x-www-form-urlencoded";

        using (StreamWriter sw = new StreamWriter(request.GetRequestStream(), System.Text.Encoding.UTF8))
        {
            sw.Write(qs);
        }
    }


    request.Headers.Add("Cookie", ".ASPXCOOKIEWebApi=29FFAF14951A16338F247162357B367FA96FF7FCF31989591F85A327C8D146F7317A972E50477E741B2E7EA6CBBC9DB71E9A98716AA3BB5AA652CF833BD99D5B55D3C52B9E76F046D2F809205E7FE4B07C007B83F5F9335F6F88CEAE7D7AE8CF315F21CDBE6BFD02B5AACB3637433994D246D6FB6FB3CF0A");

    var response = request.GetResponse();

    string result;
    using (StreamReader sr = new StreamReader(response.GetResponseStream()))
    {
        result = sr.ReadToEnd();
    }

    response.Close();

    Output.Write(result);
    return;
}
